{"version":3,"file":"index.js","sources":["../src/AnimatedCard/AnimatedCard.tsx"],"sourcesContent":["import React from 'react'\n// @ts-ignore\nimport styles from './AnimatedCard.module.scss'\n\nclass AnimatedCard extends React.Component<AnimatedCardProps, AnimatedCardState> {\n\n  private card: any = null\n  private figureIcon: any = null\n  private title: any = null\n  private body: any = null\n  private button: any = null\n\n  constructor(props: AnimatedCardProps) {\n    super(props)\n    this.state = {\n      mainClass: ''\n    }\n  }\n\n  componentDidMount() {\n    this.card = document.querySelector(`.${styles.cardDefault}`)\n    this.figureIcon = document.querySelector(`.${styles.cardDefault} .figure img`)\n    this.title = document.querySelector(`.${styles.cardDefault} .content .title`)\n    this.body = document.querySelector(`.${styles.cardDefault} .content .body`)\n    this.button = document.querySelector(`.${styles.cardDefault} .footer .footer_btn`)\n\n    React.Children.forEach(this.props.children, element => {\n      if (!React.isValidElement(element)) return\n\n      this.setState({ mainClass: element.props.className })\n\n    })\n\n  }\n\n\n  _onMouseMove = (e: any) => {\n    let card = this.card;\n    const { config } = this.props;\n\n    let xAxis = (window.innerWidth / 2 - e.pageX) / (config?.rotation || 15);\n    let yAxis = (window.innerHeight / 2 - e.pageY) / (config?.rotation || 15);\n\n    card.style.transition = 'all 0.1s ease';\n    card.style.transform = `rotateY(${xAxis}deg) rotateX(${yAxis}deg)`;\n  }\n\n  _onMouseLeave = () => {\n    let card = this.card\n    const { config } = this.props\n\n    card.style.transition = `all ${config && config.transition?.duration || 0.5}s ease`;\n    card.style.transform = `rotateY(0deg) rotateX(0deg)`;\n\n    if (this.title) this.title.style.transform = 'translateZ(0px)';\n    if (this.body) this.body.style.transform = 'translateZ(0px)';\n    if (this.button) this.button.style.transform = 'translateZ(0px)';\n    if (this.figureIcon) this.figureIcon.style.transform = 'translateZ(0) rotateZ(0deg)';\n  }\n\n  _onMouseEnter = () => {\n    let card = this.card\n    const { config } = this.props\n\n    card.style.transition = `all ${config && config.transition?.duration || 0.5}s ease`;\n\n    if (this.title) this.title.style.transition = `all ${config && config.transition?.duration || 0.5}s ease`;\n    if (this.body) this.body.style.transition = `all ${config && config.transition?.duration || 0.5}s ease`;\n    if (this.button) this.button.style.transition = `all ${config && config.transition?.duration || 0.5}s ease`;\n    if (this.figureIcon) this.figureIcon.style.transition = `all ${config && config.transition?.duration || 0.5}s ease`;\n\n    if (this.title) this.title.style.transform = `translateZ(${config && config.transform?.titleTranslateZ || 140}px)`;\n    if (this.body) this.body.style.transform = `translateZ(${config && config.transform?.bodyTextTranslateZ || 125}px)`;\n    if (this.button) this.button.style.transform = `translateZ(${config && config.transform?.buttonTranslateZ || 100}px)`;\n    if (this.figureIcon) this.figureIcon.style.transform = `translateZ(${config && config.transform?.figureIcon?.translateZ || 160}px) rotateZ(${config && config.transform?.figureIcon?.rotation || 45}deg)`;\n  }\n\n  render() {\n    const { children, className, style } = this.props\n    const { mainClass } = this.state\n\n    return (\n      <div\n        className={[styles.container, className].join(' ')}\n        onMouseMove={this._onMouseMove}\n        onMouseLeave={this._onMouseLeave}\n        onMouseEnter={this._onMouseEnter}\n        {...{ style }}\n      >\n\n        {React.isValidElement(children) && React.cloneElement(children as React.ReactElement, { className: mainClass + ' ' + styles.cardDefault })}\n      </div>\n    )\n  }\n}\n\ninterface transitionProps {\n  duration: number;\n  timingMode?: 'ease' | 'ease-out' | 'ease-in' | 'ease-in-out';\n}\n\ninterface transformProps {\n  figureIcon?: {\n    rotation?: number;\n    translateZ?: number\n  },\n  titleTranslateZ?: number;\n  buttonTranslateZ?: number;\n  bodyTextTranslateZ?: number;\n}\n\ninterface ObjectProps {\n  transition?: transitionProps;\n  rotation?: number;\n  transform?: transformProps;\n}\n\ninterface AnimatedCardProps {\n  config?: ObjectProps;\n  className?: string;\n\n  [key: string]: any;\n}\n\ninterface AnimatedCardState {\n  mainClass: string;\n}\n\nexport default AnimatedCard\n"],"names":["AnimatedCard","props","e","card","config","xAxis","window","innerWidth","pageX","rotation","yAxis","innerHeight","pageY","style","transition","transform","duration","title","body","button","figureIcon","titleTranslateZ","bodyTextTranslateZ","buttonTranslateZ","translateZ","state","mainClass","componentDidMount","document","querySelector","styles","cardDefault","React","Children","forEach","children","element","isValidElement","setState","className","render","container","join","onMouseMove","_onMouseMove","onMouseLeave","_onMouseLeave","onMouseEnter","_onMouseEnter","cloneElement","Component"],"mappings":"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"}